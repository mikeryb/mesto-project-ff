(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,n,r,o,c,a,u,d){var i=e.querySelector(".card").cloneNode(!0),s=i.querySelector(".card__image");return s.setAttribute("src",n),s.setAttribute("alt",t),i.querySelector(".card__title").textContent=t,i.querySelector(".card__delete-button").addEventListener("click",(function(){return r(i)})),i.querySelector(".card__like-button").addEventListener("click",(function(e){o(e)})),i.querySelector(".card__image").addEventListener("click",(function(e){c(e,a,u,d)})),i}function n(e){e.remove()}function r(e){e.target.classList.toggle("card__like-button_is-active")}function o(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",a)}function c(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",a)}function a(e){"Escape"===e.key&&c(document.querySelector(".popup_is-opened"))}var u=document.querySelector(".places__list"),d=document.querySelector(".profile__edit-button"),i=document.querySelector(".popup_type_edit"),s=document.querySelector(".profile__add-button"),l=document.querySelector(".popup_type_new-card"),p=document.querySelector(".popup_type_image"),m=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),y=document.querySelector('form[name="edit-profile"]'),f=document.querySelector('form[name="new-place"]'),v=(document.querySelector(".places__list"),document.querySelector(".popup__image")),k=document.querySelector(".popup__caption"),q=f.querySelector('[name="place-name"]'),S=f.elements.link;function g(e,t,n,r){e.target.classList.contains("card__image")&&(t.src=e.target.src,t.alt=e.target.alt,r.textContent=e.target.alt,o(n))}document.querySelectorAll(".popup").forEach((function(e){e.querySelector(".popup__close").addEventListener("click",(function(){c(e)})),e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup")&&c(e)}))})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){u.append(t(e.name,e.link,n,r,g,v,p,k))})),d.addEventListener("click",(function(){var e,t,n;o(i),t=m,n=_,(e=y).elements.name.value=t.textContent,e.elements.description.value=n.textContent})),s.addEventListener("click",(function(){f.reset(),o(l)})),y.addEventListener("submit",(function(e){!function(e,t,n,r,o){e.preventDefault();var a=t.elements.name,u=t.elements.description;n.textContent=a.value,r.textContent=u.value,c(o)}(e,y,m,_,i)})),f.addEventListener("submit",(function(e){!function(e,n,r,o,c,a,u,d,i,s,l){e.preventDefault(),o.prepend(t(q.value,S.value,r,c,d,i,s,l)),a(u),n.reset()}(e,f,n,u,r,c,l,g,v,p,k)}))})();